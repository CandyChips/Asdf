@page "/user/create"

<h3>Добавление нового пользователя</h3>
<EditForm Model="@User" OnValidSubmit="@CreateUser">
    <DataAnnotationsValidator />
    <div class="form-group">
        <label>Имя :</label>
        <div>
            <InputText @bind-Value="@User.Name" />
            <ValidationMessage For="@(() => User.Name)" />
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Почта :</label>
            <div>
                <InputText @bind-Value="@User.Email" />
                <ValidationMessage For="@(() => User.Email)" />
            </div>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Роль :</label>
            <div>
                <InputSelect @bind-Value="@User.Role">
                    @if (Roles != null)
                    {
                        @foreach (var role in Roles)
                        {
                            <option value=@role.Id>@role.Name</option>
                        }
                    }
                    else
                    {
                        <option>Загрузка</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => User.Role)"/>
            </div>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Пароль :</label>
            <div>
                <InputText @bind-Value="@User.Password" />
                <ValidationMessage For="@(() => User.Password)" />
            </div>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Номер телефона :</label>
            <div>
                <InputText @bind-Value="@User.Phone" />
                <ValidationMessage For="@(() => User.Phone)" />
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-success">
        Добавить
    </button>
</EditForm>